# Оценка навыков командной работы по опыту компьютерных игр
## Сайт
Сайт -- https://makarpoltr.github.io/game-stat/#/  
Репозиторий сайта -- https://github.com/MakarPoltr/game-stat  
Мы не успели реализовать авторизацию через Talent oauth api, поэтому в данной версии аутентификация происходит посредством ввода ника. 
## Презентуемые данные
### Концепция метрики отыгрыша роли
#### Смысл
Мы считаем, что командный игрок определяется в первую очередь тем, что он хорошо вливается в команду, становится важной и уместной её частью.  
Определить это можно по тому, как правильно человек играет на той или иной роли. Простой пример:  
Если игрок берёт персонажа поддержки и вместо исцеления союзников пытается набить фраги, значит он не чувствует роль.  
Если же игрок, выбрав персонажа поддержки, поддерживает (способами, предусмотренными игрой) своих союзников, значит он хорошо чувствует роль.  
#### Подсчёт
Пусть, у нас есть некоторый набор параметров P, взятый для отдельного игрока. Он может включать в себя колличество убийст, ассистов, объём исцеления и т.д.  
{'kills': 15, 'healing': 300}  
Кроме того у нас есть набор A, включающий в себя средние среди всех игроков параметры набора P.  
{'kills': 10, 'healing': 500}  
Тогда чтобы посчитать, как отличаются параметры игрока от средних мы посчитаем отношения параметров из P к параметрам из A.  
{'kills': 1.5, 'healing': 0.6}  
Наш игрок совершил в 1.5 раза больше киллов чем делают игроки в среднем, но только 0.6 от среднего исцеления. Пока что эти данные не могут сказать нам почти ничего. Ведь 1% отклонения по значению исцеления для саппорта и для игрока атаки имеют совершенно разные значения. Поэтому, мы будем домножать эти значения на некоторые константы, определенные для каждой роли. Так, например, для персонажа саппорта значимость исцеления будет 90, а для персонажа атаки лишь 20 (не 0, так как и этот игрок может лечить союзников).  
Важно заметить, что сумма значимостей параметров для каждой роли должна быть одинакова. Иначе, мы можем столкнуться с тем, что мы слишком переоцениваем сапппортов и недооцениваем другие роли и наоборот.  
Следующим важным шагом, будет считать наш средний набор A не общим для всех, а средним по каждой роли. Это, в сочетании с коэффициентами значимости, позволит нам получить наиболее правдоподобную метрику.  
Итого, на выходе мы получаем значения нашей метрики, позволяющие нам судить о том, как хорошо игрок справляется с ролями, на которых играет.  
Далее нам остаётся посчитать усреднённое значение (с учетом колличества игр на каждой роли) и мы получим нашу метрику командности.   
### Игры
Их две.   
Так как по этим играм мы смогли получить больше всего подходящих нам данных.  
Как можно понять из предыдущего пункта, нам было бы не достаточно получать лишь стандартные статы, как, например, в CS:GO.  
В доте же, как и в овервотче, доступна подробная статистика по ролям и персонажам, что оказалось очень полезным.
#### Dota 2
![alt text](https://github.com/ArtemKar123/Kruzhok-games/blob/master/Screenshot%20(5).png)
- Круговая диаграмма показывает соотношение значений метрик отыгрыша для всех ролей роли.  
- Роза ветров отражает то, как хорошо игрок чувствует ту, или иную роль.  
- Остальные параметры -- общая статистика игрока. Для наглядности также отображаются и средние значения по всем игрокам.  
#### Overwatch
![alt text](https://github.com/ArtemKar123/Kruzhok-games/blob/master/Screenshot%20(6).png)
- Круговая диаграмма показывает, как часто человек играет на том или ином персонаже.  
- Роза ветров отражает то, как хорошо игрок чувствует ту, или иную роль. В данной игре их всего три.  
- Остальные параметры -- общая статистика игрока. Для наглядности также отображаются и средние значения по всем игрокам.
##  Техническая реализация
### Стэк
Front: JS, VueJS + ChartJS, Bootstrap.   
Подсчёт метрик и api: Python, Flask.  
База данных: Postgresql.
### Логика
1) Все метрики считаются и хранятся на сервере.   
2) Фронт связывается с сервером через HTTP запросы.
### Фичи
#### Реализованные
- Привязка аккаунтов steam и blizzard и храненние их в базе данных.  
- Рассчёт собственных метрик и получение стандартных.  
- Для ускорения загрузки, посчитанные метрики хранятся в базе данных. Это позволяет не пересчитывать их при каждой загрузке страницы.
- Наглядная и красивая визуализация.  
#### TODO
- Авторизация пользователя при помощи Talent oauth api.  
- Привязка аккаунтов steam и blizzard через oauth api.
- Для dota 2 мы сумели получить список сообщений, отправленных пользователем в игровой чат. На их основе, при помощи нейросети, можно считать некоторую метрику "токсичности". Ведь обычно, чем менее токсичен игрок, тем лучше он работает в комманде.  
